{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block body %}

<div class='container'>
    <a class="btn btn-outline-primary" href="{% url 'balance_list' id=user.id%}">Back to balances</a>
    <hr>
    <h2>Transaction</h2>
    <hr>
    <table class="table">
    <thead class="thead-dark">
    <h4><small style="color:blue;">{{ context.bill_type }}</small></h4>
    </thead>
    <tbody>
        <tr>     
        <td>Paid by :</td>
        <td>{{ context.paid_by }}</td>
        </tr>
        <tr>
        
        <td>Amount :</td>
        <td>${{ context.amount }}</td>
        </tr>
        <tr>
        
        <td>Due :</td>
        <td>${{ context.due }}</td>
        </tr>
        <tr>      
        <td>Sharing with : </td>
        <td>{{ context.shared }}</td>
        </tr>
    </tbody>
    </table>
    <hr>
    <a class="btn btn-outline-primary" href="{% url 'transaction_edit' id=context.trans_id %}"><span class='glyphicon glyphicon-pencil' aria-hidden='true'></span>Edit</a>
    <a class="btn btn-outline-danger" href="{% url 'transaction_delete' id=context.trans_id %}"><span class='glyphicon glyphicon-pencil' aria-hidden='true'></span>Delete</a>
</div>
<!--
{% if context %}
    <table class="table">
        <thead>
            <tr>    
            <th scope="col">Paid by</th>       
            <th scope="col">Shared with</th>
            <th scope="col">Bill Type</th>
            <th scope="col">Added on</th>
            <th scope="col">Paid Amount</th>
            <th scope="col">Due Amount</th>
            <th scope="col">Edit</th>
            <th scope="col">Delete</th>            
            </tr>
        </thead>
        <tbody>
            {% for item, val in context.items %}
                {% if item != 'total' %}
                <tr>
                {% for item2, val2 in val.items %} 
                        {% if item2 != 'transaction'%}
                        <td> {{ val2 }}</td>   
                        {% endif %}                     
                {% endfor %}
                {% for item2, val2 in val.items %} 
                        {% if item2 == 'transaction'%}
                        <td><a class="btn btn-outline-primary" href="{% url 'transaction_edit' id=val2.id %}"><span class='glyphicon glyphicon-pencil' aria-hidden='true'></span>Edit</a></td>  
                        <td><a class="btn btn-outline-danger" href="{% url 'transaction_delete' id=val2.id %}"><span class='glyphicon glyphicon-pencil' aria-hidden='true'></span>Delete</a></td>  
                        {% endif %}                     
                {% endfor %}
                
                </tr>                
                {% endif %} 
                 
            {% endfor %}
            <tr>           
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td><h5>Total Due<h5></td>
                {% for item, val in context.items %}
                    {% if item == 'total' %}
                        {% for item2, val2 in val.items %} 
                            <td><h5>$ {{ val2 }}</h5></td>
                        {% endfor %}
                    {% endif %}  
                {% endfor %}
            </tr>
        </tbody>
    </table>
    -->
{% endif %}

{% endblock %}